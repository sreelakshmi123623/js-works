<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body>
    <h3 class="text-center text-2xl font-semibold mt-10">TODO DETAILS</h3>
    <center>
    <table class="border-3 mt-10">
        <thead>
        <tr>
            <th class="border-1 border-black p-3">userId</th>
            <th class="border-1 border-black p-3">Id</th>
            <th class="border-1 border-black p-3">Title</th>
            <th class="border-1 border-black p-3">completed</th>
        </tr>
        </thead>
        
        </center>
        <tbody id="result">

        </tbody>
    </table>
    <script>
        //AJAX API call

        //1.create a new htmlxmlrequest object
        const response=new XMLHttpRequest()

        //2.connect to api call
        response.open("get","https://jsonplaceholder.typicode.com/todos")//state-1

        //3.send
        response.send()

        //4.set OnreadystateChange
        response.onreadystatechange=()=>{
            if(response.readyState==4){
                if(response.status>199&&response.status<300){
                    console.log(response.responseText);
                    const todoArray=JSON.parse(response.responseText)
                    // console.log(todoArray);
                    displayData(todoArray)
                    
                }
            }
        }
        //5.display array of data into the browser

        function displayData(todoArray){
            for(let todo of todoArray){
                
                htmlData=` <tr>
            <th class="border-1 border-black p-3">${todo.userId}</th>
            <th class="border-1 border-black p-3">${todo.id}</th>
            <th class="border-1 border-black p-3">${todo.title}</th>
            <th class="border-1 border-black p-3">${todo.completed}</th>
        </tr>`
        result.innerHTML+=htmlData
            }
        }
    </script>
</body>
</html>